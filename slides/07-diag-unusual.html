<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="author" content="Dr.&nbsp;Cheng-Han Yu   Department of Mathematical and Statistical Sciences   Marquette University">
<title>MATH 4780 - Fall 2023 - Regression Diagnostics: Unusual Data r emo::ji('coder')</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
<link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css" id="theme">
<link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
<style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="MATH 4780 - Fall 2023 - Regression Diagnostics: Unusual Data r emo::ji('coder')">
<meta property="og:description" content="MATH 4780 / MSSC 5780 Regression Analysis">
<meta property="og:site-name" content="MATH 4780 - Fall 2023">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#447099" class="quarto-title-block center"><h1 class="title">Regression Diagnostics: Unusual Data 👩‍💻</h1>
  <p class="subtitle">MATH 4780 / MSSC 5780 Regression Analysis</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Cheng-Han Yu <br> Department of Mathematical and Statistical Sciences <br> Marquette University 
</div>
</div>
</div>

</section><section><section id="unusual-data" class="title-slide slide level1 center"><h1>Unusual Data</h1>
<h2>
Outliers
</h2>
<h2>
Leverage
</h2>
<h2>
Influence
</h2>
<aside class="notes"><ul>
<li>We already learned SLR and MLR as well as the inference and prediction methods for the parameters or the variables we are interested.</li>
<li>And I promise, the most mathematical part has been passed. From now on, you should have more fun studying regression. Alright.</li>
<li>Remember our model are built upon some assumptions. Before talking about how we deal with violation of model assumptions, I’d like to spend some time talking about the unusual data. <!-- - However, all the methods we learned are based on the model assumptions. If any one of the model assumptions are violated, the inference or prediction results become unreliable. --> <!-- In fact these assumptions are quite restricted. --> <!-- - So it's not that uncommon to see violation of assumptions. -->
</li>
<li>The quality of data affects the quality of analysis results. If our data contains some data points that are so different from other points, our inference or prediction results may be highly distorted by those unusual data. (Can be seen as violation of normality assumption)</li>
<li>So when doing data analysis, we need to pay attention to those unusual points if they exist, and understand how they affect our analysis result.</li>
<li>The showing up of the unusual data may be a signal that our regression model fails to capture some important characteristics of the data, indicating bad model fitting, or we need some other predcitor to capture that characteristic. <!-- - for the next cowe are going to learn how to check whether those assumptions are valid or satisfied.  --> <!-- - And probably the following two weeks, if the assumptions are not satisfied, how do we deal with it. -->
</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="outliers-unusual-y" class="slide level2"><h2>Outliers: Unusual <span class="math inline">\(y\)</span>
</h2>
<ul>
<li>An <strong>outlier</strong> is a case whose <em>response value is unusual given the value of the regressors</em>.</li>
</ul>

<img data-src="./images/07-diag-unusual/unnamed-chunk-3-1.png" style="width:85.0%" class="r-stretch quarto-figure-center"><aside class="notes"><ul>
<li>Neither the x nor y value of the outlier is individually unusual, as it is clear from the marginal distribution of each variable.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="leverage-unusual-x" class="slide level2"><h2>Leverage: Unusual <span class="math inline">\(x\)</span>
</h2>
<ul>
<li>Points that are away from the center of the data cloud of <span class="math inline">\({\bf x}\)</span> are called <strong>leverage points</strong>.</li>
</ul>
<div class="columns">
<div class="column" style="width:25%;">
<div class="small">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource my_class800 number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1"><a href="#cb1-1"></a>   time cases distance</span>
<span id="cb1-2"><a href="#cb1-2"></a>1  16.7     7      560</span>
<span id="cb1-3"><a href="#cb1-3"></a>2  11.5     3      220</span>
<span id="cb1-4"><a href="#cb1-4"></a>3  12.0     3      340</span>
<span id="cb1-5"><a href="#cb1-5"></a>4  14.9     4       80</span>
<span id="cb1-6"><a href="#cb1-6"></a>5  13.8     6      150</span>
<span id="cb1-7"><a href="#cb1-7"></a>6  18.1     7      330</span>
<span id="cb1-8"><a href="#cb1-8"></a>7   8.0     2      110</span>
<span id="cb1-9"><a href="#cb1-9"></a>8  17.8     7      210</span>
<span id="cb1-10"><a href="#cb1-10"></a>9  79.2    30     1460</span>
<span id="cb1-11"><a href="#cb1-11"></a>10 21.5     5      605</span>
<span id="cb1-12"><a href="#cb1-12"></a>11 40.3    16      688</span>
<span id="cb1-13"><a href="#cb1-13"></a>12 21.0    10      215</span>
<span id="cb1-14"><a href="#cb1-14"></a>13 13.5     4      255</span>
<span id="cb1-15"><a href="#cb1-15"></a>14 19.8     6      462</span>
<span id="cb1-16"><a href="#cb1-16"></a>15 24.0     9      448</span>
<span id="cb1-17"><a href="#cb1-17"></a>16 29.0    10      776</span>
<span id="cb1-18"><a href="#cb1-18"></a>17 15.3     6      200</span>
<span id="cb1-19"><a href="#cb1-19"></a>18 19.0     7      132</span>
<span id="cb1-20"><a href="#cb1-20"></a>19  9.5     3       36</span>
<span id="cb1-21"><a href="#cb1-21"></a>20 35.1    17      770</span>
<span id="cb1-22"><a href="#cb1-22"></a>21 17.9    10      140</span>
<span id="cb1-23"><a href="#cb1-23"></a>22 52.3    26      810</span>
<span id="cb1-24"><a href="#cb1-24"></a>23 18.8     9      450</span>
<span id="cb1-25"><a href="#cb1-25"></a>24 19.8     8      635</span>
<span id="cb1-26"><a href="#cb1-26"></a>25 10.8     4      150</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div><div class="column" style="width:75%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="./images/07-diag-unusual/unnamed-chunk-5-1.png" style="width:85.0%"></p>
</figure>
</div>
</div>
</div>
<div class="midi">
<p>Observation 9 and 22 are away from the center of <span class="math inline">\({\bf x}\)</span> space, and are likely leverage points.</p>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>leverage certainly will have a dramatic effect on the model summary statistics such as <span class="math inline">\(R^2\)</span> and the standard errors of the regression coefficients</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="influence-unusual-x-and-y" class="slide level2"><h2>Influence: Unusual <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>
</h2>
<ul>
<li>An <strong>influential point</strong> has great influence on estimated regression coefficients. <span class="math display">\[\text{Influence} = \text{Leverage} \times \text{Outlyingness}\]</span>
</li>
</ul>

<img data-src="./images/07-diag-unusual/unnamed-chunk-6-1.png" style="width:60.0%" class="r-stretch quarto-figure-center"><aside class="notes"><ul>
<li>What kind of data points have such great influence power?</li>
<li>Well if a point is an outlier with high leverage, then it becomes a influential point.</li>
<li>We got to be very careful about influential points because the estimated regression coefficients change a lot with and without these points.</li>
<li>Our analysis conclusion may be completely opposite =&gt; explain the figure.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="unusual-data-outliers-leverage-and-influence" class="slide level2"><h2>Unusual Data: Outliers, Leverage and Influence</h2>

<img data-src="./images/07-diag-unusual/unnamed-chunk-7-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section><section id="measuring-leverage-hat-values" class="slide level2"><h2>Measuring Leverage: Hat Values</h2>
<ul>
<li><p><span class="math inline">\({\bf H} = {\bf X(X'X)}^{-1} {\bf X}'\)</span>.</p></li>
<li><p>The <strong>hat value</strong> <span class="math inline">\(h_{ii}\)</span> is the <span class="math inline">\(i\)</span>th diagonal element of <span class="math inline">\(\bf H\)</span>.</p></li>
<li><p><span class="math inline">\(h_{ii} \in \left[\frac{1}{n}, 1\right]\)</span> is a standardized measure of the <strong>distance of the <span class="math inline">\(i\)</span>th case from the centroid of the <span class="math inline">\(\bf x\)</span> space</strong>, taking into account the correlational structure of the <span class="math inline">\(x\)</span>s.</p></li>
<li><p>The <em>larger</em> the <span class="math inline">\(h_{ii}\)</span> is, the <em>farther</em> the point <span class="math inline">\({\bf x}_i\)</span> lies to the centroid of the <span class="math inline">\(\bf x\)</span> space.</p></li>
</ul>

<img data-src="./images/07-diag-unusual/unnamed-chunk-8-1.png" style="width:50.0%" class="r-stretch quarto-figure-center"><aside class="notes"><ul>
<li>The contours show the same or constant leverage in the 2-dim data ellipses.</li>
<li>The two black points are equally unusual and have equally large hat values.</li>
<li>example: one point at inner contour, the other outer contour</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="measuring-leverage-hat-values-1" class="slide level2"><h2>Measuring Leverage: Hat Values</h2>
<ul>
<li><p>In simple linear regression, <span class="math display">\[h_{ii} = \frac{1}{n} + \frac{\left(x_i - \bar{x}\right)^2}{S_{xx}}\]</span></p></li>
<li><p><span class="math inline">\(\hat{y}_j = b_0 + b_1 ~x_j = h_{j1}y_1 + h_{j2}y_2 + \cdots + h_{jn}y_n\)</span></p></li>
<li><p><span class="math inline">\(h_{ii} = \sum_{j=1}^nh_{ji}^2\)</span> summarizes the influence (the <em>leverage</em>) of <span class="math inline">\(y_i\)</span> on <em>all</em> the fitted values <span class="math inline">\(\hat{y}_j\)</span>, <span class="math inline">\(j = 1, \dots, n\)</span>.</p></li>
<li><p><span class="math inline">\(\bar{h} = \frac{\sum_{i=1}^n h_{ii}}{n} = p/n\)</span></p></li>
</ul>
<div class="alert">
<p>A point with <span class="math inline">\(h_{ii} &gt; 2\bar{h}\)</span> is considered a <strong>leverage point</strong>.</p>
</div>
<aside class="notes"><ul>
<li><span class="math inline">\(\hat{y}_i = b_0 + b_1 ~x_i = h_{i1}y_1 + h_{i2}y_2 + \cdots + h_{in}y_n\)</span></li>
<li>
<span class="math inline">\(h_{ii} = \sum_{j=1}^nh_{ji}^2\)</span> summarizes the potential influence (the <em>leverage</em>) of <span class="math inline">\(y_i\)</span> on <em>all</em> the fitted values <span class="math inline">\(\hat{y}_j\)</span>, <span class="math inline">\(j = 1, \dots, n\)</span>.</li>
<li>
<span class="math inline">\(2\bar{h}\)</span> may be greater than 1, which is not applicable.</li>
<li>A point with <span class="math inline">\(h_{ii} &gt; 2\bar{h}\)</span> is remote enough to be considered a <strong>leverage point</strong>.</li>
<li>2p/n corresponds to 5% of the data when x is multivariate normal and n and p are large.</li>
<li>Use 3p/n when n small.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="r-lab-delivery-time-leverage-points" class="slide level2"><h2>
<span class="pink">R Lab</span> Delivery Time Leverage Points</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>hat_i <span class="ot">&lt;-</span> <span class="fu">hatvalues</span>(delivery_lm)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">sort</span>(hat_i, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    9    22    10    16    21    24    12     1    20     3    19    18    11 
0.498 0.392 0.196 0.166 0.165 0.121 0.114 0.102 0.102 0.099 0.096 0.096 0.086 
    4     7    14     5     2    25     8    13    17     6    23    15 
0.085 0.082 0.078 0.075 0.071 0.067 0.064 0.061 0.059 0.043 0.041 0.041 </code></pre>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>p <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>n <span class="ot">&lt;-</span> <span class="fu">dim</span>(delivery_data)[<span class="dv">1</span>]  <span class="do">## n = 25</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="dv">2</span> <span class="sc">*</span> p<span class="sc">/</span>n</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.24</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>hat_i[hat_i <span class="sc">&gt;</span> <span class="dv">2</span> <span class="sc">*</span> p<span class="sc">/</span>n]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   9   22 
0.50 0.39 </code></pre>
</div>
</div>
<ul>
<li>Observation 9 and 22 are identified as high-leverage points.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="./images/07-diag-unusual/unnamed-chunk-11-1.png" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>Most cutoff works better for large sample data</li>
<li>problem-specific unit change may be large after removing the influential point, even though the measures are not greater than the cutoff.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="detecting-outliers" class="slide level2"><h2>Detecting Outliers</h2>
<ul>
<li><p>Measure the <em>conditional</em> unusualness of <span class="math inline">\(y\)</span> given <span class="math inline">\({\bf x}\)</span>.</p></li>
<li><p>❌ Can’t just use residual <span class="math inline">\(e_i\)</span> to measure the unusualness of <span class="math inline">\(y_i\)</span>!</p></li>
<li><p>If the point is also a leverage point (large <span class="math inline">\(h_{ii}\)</span>), it’s residual tends to be small.</p></li>
</ul>
<aside class="notes"><ul>
<li>Can’t just use residual <span class="math inline">\(e_i\)</span> to measure the unusualness of <span class="math inline">\(y_i\)</span>! If the point is also a leverage point (large <span class="math inline">\(h_{ii}\)</span>), it’s residual tends to be small. -&gt; Check plot: these points force the regression line or surface to be close to them.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside><div class="fragment">
<ul>
<li>
<strong>R-student residual</strong>: <span class="math display">\[t_i = \frac{e_i}{\sqrt{s^2_{(i)}(1-h_{ii})}}\]</span> where <span class="math inline">\(s^2_{(i)}\)</span> estimates <span class="math inline">\(\sigma^2\)</span> based on the data with the <span class="math inline">\(i\)</span>th point removed.</li>
</ul>
<div class="alert">
<ul>
<li>
<span class="math inline">\(t_i \sim t_{n-p-1}\)</span> and a formal testing procedure can be used for detecting outliers.</li>
<li>A point with <span class="math inline">\(|t_i| &gt; 2\)</span> needs to be examined with care.</li>
</ul>
</div>
<aside class="notes"><ul>
<li>(Eq (4.12) in LRA)</li>
<li>There are lots variants of residuals that are for several different purposes.</li>
<li>The so-called R-student residual is recommended for detecting outliers.</li>
<li>Bonferroni correction is better for testing n residuals simultaneously.</li>
<li>A point with <span class="math inline">\(|t_i| &gt; 2\)</span> needs to be examined with care ( <span class="math inline">\(5\%\)</span> of the data).</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section><section id="r-lab-detecting-outliers---residual-plot" class="slide level2"><h2>
<span class="pink">R Lab</span> Detecting Outliers - Residual Plot</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>r_student <span class="ot">&lt;-</span> <span class="fu">rstudent</span>(delivery_lm)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">round</span>(<span class="fu">sort</span>(r_student, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    9     4    18    10    11    19     8     2    14    13     7    15    17 
 4.31  1.64  1.12  0.81  0.71  0.57  0.36  0.36  0.33  0.32  0.26  0.21  0.13 
    3    25     6     5    12    16    21    23    22    24     1    20 
-0.02 -0.07 -0.09 -0.14 -0.19 -0.22 -0.87 -1.48 -1.49 -1.54 -1.70 -2.00 </code></pre>
</div>
</div>

<img data-src="./images/07-diag-unusual/unnamed-chunk-13-1.png" style="width:56.0%" class="r-stretch quarto-figure-center"></section><section id="measuring-influence" class="slide level2"><h2>Measuring Influence</h2>
<ul>
<li>The influence measures are those that measure the effect of deleting the <span class="math inline">\(i\)</span>th observation.
<ul>
<li>
<span style="color:blue"> <span class="math inline">\(DFBETAS_{j, i}\)</span> </span> measures the effect on coefficient <span class="math inline">\({b_j}\)</span> when the <span class="math inline">\(i\)</span>th observation is removed.</li>
<li>
<span style="color:blue"> Cook’s Distance <span class="math inline">\(D_i\)</span> </span> measures the effect of the <span class="math inline">\(i\)</span>th observation on coefficient vector <span class="math inline">\({\bf b}\)</span>.</li>
<li>
<span style="color:blue"> <span class="math inline">\(DFFITS_{i}\)</span> </span> measures the effect on fitted value <span class="math inline">\(\hat{y}_i\)</span>.</li>
<li>
<span style="color:blue"> <span class="math inline">\(COVRATIO_{i}\)</span> </span> measures the effect on the precision of estimates (variance).</li>
</ul>
</li>
</ul>
<aside class="notes"><ul>
<li>Now we are going to learn some measures of influence.</li>
<li>With all these measures, we can quantify how large impact a point can make on the model coefficients or model fitting in general.</li>
<li>And the idea is to check the difference between model coefficients or model fitting results when the point is in the data and those when the point is deleted.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="dfbetas_j-i" class="slide level2"><h2><span class="math inline">\(DFBETAS_{j, i}\)</span></h2>
<ul>
<li>
<span class="math inline">\(DFBETAS_{j, i}\)</span> measures <em><strong>how much the regression coefficient <span class="math inline">\(b_j\)</span> changes in standard error units if the <span class="math inline">\(i\)</span>th observation is removed.</strong></em> <span class="math display">\[DFBETAS_{j, i} = \frac{b_j - b_{j(i)}}{\sqrt{s_{(i)}^2C_{jj}}} = \frac{b_j - b_{j(i)}}{se_{(i)}(b_j)}\]</span> where</li>
<li>
<span class="math inline">\(b_{j(i)}\)</span> is the <span class="math inline">\(j\)</span>th coefficient estimate computed without the <span class="math inline">\(i\)</span>th observation.</li>
<li>
<span class="math inline">\(C_{jj}\)</span> is the diagonal element of <span class="math inline">\(( {\bf X}'{\bf X})^{-1}\)</span> corresponding to <span class="math inline">\(b_j\)</span>.</li>
</ul>
<div class="alert">
<ul>
<li>The <span class="math inline">\(i\)</span>th point is considered influential on <span class="math inline">\(j\)</span>th coefficient if <span class="math inline">\(|DFBETAS_{j, i}| &gt; 2/\sqrt{n}\)</span>.</li>
<li>One issue: there are <span class="math inline">\(np\)</span> DFBETAS measures.</li>
</ul>
</div>
<aside class="notes"><ul>
<li>DF means difference; S means standardized. <span class="math display">\[DFBETAS_{j, i} := \frac{b_j - b_{j(i)}}{\sqrt{S_{(i)}^2C_{jj}}} = \frac{r_{j, i}}{\sqrt{{\bf r}_j'{\bf r}_j}}{\frac{1}{\sqrt{1-h_{ii}}}}t_i\]</span>
</li>
<li>The denominator provides a standardization since it estimates the standard error of <span class="math inline">\(b_j\)</span>. <!-- - $DFBETAS_{j, i}$ represents *the number of estimated standard errors that the coefficient $b_j$ changes if the $i$th point is removed.* -->
</li>
<li>
<span class="math inline">\(DFBETAS_{j, i}\)</span> represents the combination of <em>leverage measures</em> and the <em>impact of errors in the <span class="math inline">\(y\)</span> direction</em>.</li>
<li>The <span class="math inline">\(n\)</span> elements in <span class="math inline">\({\bf r}_j'\)</span> produce the <em>leverage</em> that the <span class="math inline">\(n\)</span> observations have on <span class="math inline">\(b_j\)</span>.</li>
<li>
<span class="math inline">\(\frac{r_{j, i}}{\sqrt{{\bf r}_j'{\bf r}_j}}\)</span> is a <em>normalized</em> measure of the impact of the <span class="math inline">\(i\)</span>th observation on the <span class="math inline">\(j\)</span>th coefficient.</li>
<li>The measure is swelled by the leverage score <span class="math inline">\(h_{ii}\)</span>.</li>
<li>Point <span class="math inline">\(i\)</span> is considered influential on <span class="math inline">\(j\)</span>th coefficient if <span class="math inline">\(|DFBETAS_{j, i}| &gt; 2/\sqrt{n}\)</span>.
<ul>
<li>
<span class="math inline">\(b_{j(i)}\)</span>: the <span class="math inline">\(j\)</span>th coefficient computed without the <span class="math inline">\(i\)</span>th observation</li>
<li>
<span class="math inline">\(S_{(i)}^2\)</span>: the estimate of <span class="math inline">\(\sigma^2\)</span> based on the data with no the <span class="math inline">\(i\)</span>th point (Eq. (4.12))</li>
<li>
<span class="math inline">\(C_{jj}\)</span>: the <span class="math inline">\(j\)</span>th diagonal element of <span class="math inline">\({\bf(X'X)}^{-1}\)</span>
</li>
<li>
<span class="math inline">\({\bf r}_j'\)</span>: the <span class="math inline">\(j\)</span>th row of the <span class="math inline">\(p \times n\)</span> matrix <span class="math inline">\({\bf R = (X'X)^{-1}X'}\)</span> <span class="math inline">\(({\bf b = Ry})\)</span>
</li>
<li>
<span class="math inline">\(r_{j, i}\)</span>: the <span class="math inline">\(ji\)</span>th element of <span class="math inline">\({\bf R}\)</span>
</li>
<li>
<span class="math inline">\(t_i\)</span>: the <span class="math inline">\(i\)</span>th R-student residual The n elements in the j th row of R produce the leverage that the n observations in the sample have on ˆβj</li>
</ul>
</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="r-lab-dfbetas_j-i" class="slide level2"><h2>
<span class="pink">R Lab</span> <span class="math inline">\(DFBETAS_{j, i}\)</span>
</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="midi">
<div class="cell" data-layout-align="center" data-highlight-output="[10,23]">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">round</span>(dfbeta <span class="ot">&lt;-</span> <span class="fu">dfbetas</span>(delivery_lm), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource my_class800 number-lines code-with-copy"><code class="sourceCode"><span id="cb11-1"><a href="#cb11-1"></a>   (Intercept) cases distance</span>
<span id="cb11-2"><a href="#cb11-2"></a>1        -0.19  0.41    -0.43</span>
<span id="cb11-3"><a href="#cb11-3"></a>2         0.09 -0.05     0.01</span>
<span id="cb11-4"><a href="#cb11-4"></a>3         0.00  0.00     0.00</span>
<span id="cb11-5"><a href="#cb11-5"></a>4         0.45  0.09    -0.27</span>
<span id="cb11-6"><a href="#cb11-6"></a>5        -0.03 -0.01     0.02</span>
<span id="cb11-7"><a href="#cb11-7"></a>6        -0.01  0.00     0.00</span>
<span id="cb11-8"><a href="#cb11-8"></a>7         0.08 -0.02    -0.01</span>
<span id="cb11-9"><a href="#cb11-9"></a>8         0.07  0.03    -0.05</span>
<span id="cb11-10"><a href="#cb11-10"></a>9        -2.58  0.93     1.51</span>
<span id="cb11-11"><a href="#cb11-11"></a>10        0.11 -0.34     0.34</span>
<span id="cb11-12"><a href="#cb11-12"></a>11       -0.03  0.09     0.00</span>
<span id="cb11-13"><a href="#cb11-13"></a>12       -0.03 -0.05     0.05</span>
<span id="cb11-14"><a href="#cb11-14"></a>13        0.07 -0.04     0.01</span>
<span id="cb11-15"><a href="#cb11-15"></a>14        0.05 -0.07     0.06</span>
<span id="cb11-16"><a href="#cb11-16"></a>15        0.02  0.00     0.01</span>
<span id="cb11-17"><a href="#cb11-17"></a>16        0.00  0.06    -0.08</span>
<span id="cb11-18"><a href="#cb11-18"></a>17        0.03  0.01    -0.02</span>
<span id="cb11-19"><a href="#cb11-19"></a>18        0.25  0.19    -0.27</span>
<span id="cb11-20"><a href="#cb11-20"></a>19        0.17  0.02    -0.10</span>
<span id="cb11-21"><a href="#cb11-21"></a>20        0.17 -0.21    -0.09</span>
<span id="cb11-22"><a href="#cb11-22"></a>21       -0.16 -0.30     0.34</span>
<span id="cb11-23"><a href="#cb11-23"></a>22        0.40 -1.03     0.57</span>
<span id="cb11-24"><a href="#cb11-24"></a>23       -0.16  0.04    -0.05</span>
<span id="cb11-25"><a href="#cb11-25"></a>24       -0.12  0.40    -0.47</span>
<span id="cb11-26"><a href="#cb11-26"></a>25       -0.02  0.00     0.01</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="midi">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="do">## cut-off = 0.4</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">apply</span>(dfbeta, <span class="dv">2</span>, </span>
<span id="cb12-3"><a href="#cb12-3"></a>      <span class="cf">function</span>(x) x[<span class="fu">abs</span>(x) <span class="sc">&gt;</span>  <span class="dv">2</span> <span class="sc">/</span> <span class="fu">sqrt</span>(n)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`(Intercept)`
    4     9 
 0.45 -2.58 

$cases
    1     9    22    24 
 0.41  0.93 -1.03  0.40 

$distance
    1     9    22    24 
-0.43  1.51  0.57 -0.47 </code></pre>
</div>
</div>
</div>
<ul>
<li>Point 9 is influential, as its deletion results in a displacement of every coefficient by at least 0.9 standard deviation of <span class="math inline">\(b_j\)</span>.</li>
</ul>
</div>
</div>
</section><section id="cooks-distance-d_i" class="slide level2"><h2>Cook’s Distance <span class="math inline">\(D_i\)</span>
</h2>
<ul>
<li>
<span class="math inline">\(D_i\)</span> measures <em><strong>the squared distance that the vector of fitted values moves when the <span class="math inline">\(i\)</span>th observation is deleted.</strong></em>
</li>
</ul>
<p><span class="math display">\[D_i = \frac{(\hat{{\bf y}}_{(i)} - \hat{{\bf y}})'(\hat{{\bf y}}_{(i)}-\hat{{\bf y}})}{p s^2} = \frac{r_i^2}{p}\frac{h_{ii}}{1-h_{ii}}, \quad i = 1, 2, \dots, n\]</span> where <span class="math inline">\(r_i = \frac{e_i}{\sqrt{s^2(1-h_{ii})}}\)</span> is the <strong>Studentized residuals</strong>.</p>
<ul>
<li>What contributes to <span class="math inline">\(D_i\)</span>:
<ul>
<li>How well the model fits the <span class="math inline">\(i\)</span>th observation (larger <span class="math inline">\(r_i^2\)</span> for poorer fit)</li>
<li>How far the point is away from the remaining data (larger <span class="math inline">\(h_{ii}\)</span> for higher leverage)</li>
<li><span class="math inline">\(\text{Influence} = \text{Leverage} \times \text{Outlyingness}\)</span></li>
</ul>
</li>
</ul>
<div class="alert">
<p>Consider points with <span class="math inline">\(D_{i} &gt; 1\)</span> to be influential.</p>
</div>
<aside class="notes"><ul>
<li>
<span class="math inline">\(D_i &gt; 1\)</span> may risk missing unusual data. Use <span class="math inline">\(4/(n-p)\)</span> instead. <span class="math display">\[\begin{align} D_i&amp; := \frac{\left( {\bf b}_{(i)} - {\bf b} \right)' {\bf X'X} \left( {\bf b}_{(i)} - {\bf b} \right)}{pMS_{res}}\\ &amp;=\frac{r_i^2}{p}\frac{\mathrm{Var}(\hat{y}_i)}{\mathrm{Var}(\hat{e}_i)} =\frac{r_i^2}{p}\frac{h_{ii}}{1-h_{ii}}, \quad i = 1, 2, \dots, n \end{align}\]</span>
</li>
<li>View <span class="math inline">\(D_i\)</span> as the standardized distance between <span class="math inline">\(b\)</span> and <span class="math inline">\(b_{-i}\)</span>.</li>
<li>
<span class="math inline">\(D_i &gt; 0\)</span> since <span class="math inline">\(X'X\)</span> is positive definite.</li>
<li>The magnitude of <span class="math inline">\(D_i\)</span> is usually assessed by comparing it to <span class="math inline">\(F_{\alpha, p, n-p}\)</span>.</li>
<li>If <span class="math inline">\(D_i = F_{0.5, p , n − p}\)</span>, then deleting point i would move <span class="math inline">\(b_{-i}\)</span> to the boundary of an approximate 50% confidence region for <span class="math inline">\(\beta\)</span> based on the complete data set.</li>
<li>
<span class="math inline">\(\frac{h_{ii}}{1-h_{ii}}\)</span> This ratio can be shown to be the distance from the vector <span class="math inline">\(x_i\)</span> to the centroid of the remaining data.</li>
<li>It is the squared Euclidean distance (apart from pMS_Res) that the vector of fitted values moves when the <span class="math inline">\(i\)</span>th observation is deleted.</li>
<li>D is a scale-invariant measure of the influence of the ith case on all of the regression coeffcients, that is the distance between b and b(-i).</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="r-lab-cooks-distance-d_i" class="slide level2"><h2>
<span class="pink">R Lab</span> Cook’s Distance <span class="math inline">\(D_i\)</span>
</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>Dii <span class="ot">&lt;-</span> <span class="fu">cooks.distance</span>(delivery_lm)</span>
<span id="cb14-2"><a href="#cb14-2"></a>Dii[Dii <span class="sc">&gt;</span> <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  9 
3.4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">round</span>(<span class="fu">sort</span>(Dii, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    9    22    20    24     1     4    10    21    18    23    11    19     2 
3.419 0.451 0.132 0.102 0.100 0.078 0.054 0.051 0.044 0.030 0.016 0.012 0.003 
   14    16     8    13     7    12    15     5    17     6    25     3 
0.003 0.003 0.003 0.002 0.002 0.002 0.001 0.001 0.000 0.000 0.000 0.000 </code></pre>
</div>
</div>
<ul>
<li>Observation 9 is influential using the cutoff of one, and the point 22 is not. <!-- - These conclusions agree with those by examining $h_{ii}$ and $r_i$ separately. -->
</li>
</ul>
<div class="alert">
<p><span class="math inline">\(D_i &gt; 1\)</span> may risk missing unusual data. Use <span class="math inline">\(4/(n-p)\)</span> instead.</p>
</div>
<aside class="notes"><div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">round</span>(<span class="fu">pf</span>(Dii, <span class="at">df1 =</span> <span class="dv">3</span>, <span class="dv">22</span>), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    1     2     3     4     5     6     7     8     9    10    11    12    13 
0.041 0.000 0.000 0.029 0.000 0.000 0.000 0.000 0.965 0.017 0.003 0.000 0.000 
   14    15    16    17    18    19    20    21    22    23    24    25 
0.000 0.000 0.000 0.000 0.013 0.002 0.060 0.016 0.281 0.007 0.042 0.000 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">pf</span>(<span class="fl">3.41835</span>, <span class="dv">3</span>, <span class="dv">22</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">pf</span>(<span class="fl">0.45106</span>, <span class="dv">3</span>, <span class="dv">22</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.28</code></pre>
</div>
</div>
<p>The magnitude of D i is usually assessed by comparing it to F α , p , n − p . If D i = F 0.5, p , n − p , then deleting point i would move ˆb(i) to the boundary of an approximate 50% confidence region for β based on the complete data set.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="dffits_i" class="slide level2"><h2><span class="math inline">\(DFFITS_{i}\)</span></h2>
<ul>
<li>
<span class="math inline">\(DFFITS_{i}\)</span> measures the <em><strong>influence of the <span class="math inline">\(i\)</span>th observation on the <span class="math inline">\(i\)</span>th fitted value</strong>, again in standard deviation units.</em> <span class="math display">\[DFFITS_{i} := \frac{\hat{y}_i - \hat{y}_{(i)}}{\sqrt{s_{(i)}^2h_{ii}}} = \left(\frac{h_{ii}}{1-h_{ii}}\right)^{1/2}t_i\]</span> where <span class="math inline">\(\hat{y}_{(i)}\)</span> is the fitted value of <span class="math inline">\(y_i\)</span> computed without the <span class="math inline">\(i\)</span>th observation.</li>
<li>The denominator provides a standardization since <span class="math inline">\(\mathrm{Var}\left( \hat{y}_i\right) = \sigma^2h_{ii}\)</span>. <!-- - $DFFITS_{i}$ represents *the number of estimated standard errors that the fitted value $\hat{y}_{(i)}$ changes if the $i$th point is removed.* -->
</li>
<li>
<span class="math inline">\(DFFITS_{i}\)</span>is essentially the R-student residual <em>scaled</em> by the leverage <span class="math inline">\([h_{ii}/(1-h_{ii})]^{1/2}\)</span>.</li>
</ul>
<div class="alert">
<p>A point with <span class="math inline">\(|DFFITS_{i}| &gt; 2\sqrt{p/n}\)</span> needs attention.</p>
</div>
<aside class="notes"><ul>
<li>Chatterjee and Hadi (1988): cutoff <span class="math inline">\(2\sqrt{p/(n-p)}\)</span>
</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="r-lab-dffits_i" class="slide level2"><h2>
<span class="pink">R Lab</span> <span class="math inline">\(DFFITS_{i}\)</span>
</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">round</span>(dffit <span class="ot">&lt;-</span> <span class="fu">dffits</span>(delivery_lm), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    1     2     3     4     5     6     7     8     9    10    11    12    13 
-0.57  0.10 -0.01  0.50 -0.04 -0.02  0.08  0.09  4.30  0.40  0.22 -0.07  0.08 
   14    15    16    17    18    19    20    21    22    23    24    25 
 0.10  0.04 -0.10  0.03  0.37  0.19 -0.67 -0.39 -1.20 -0.31 -0.57 -0.02 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="do">## cut-off = 0.69</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>dffit[<span class="fu">abs</span>(dffit) <span class="sc">&gt;</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">sqrt</span>(p<span class="sc">/</span>n)]  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   9   22 
 4.3 -1.2 </code></pre>
</div>
</div>
<ul>
<li>Deleting point 9 displaces the predicted response <span class="math inline">\(\hat{y}_{(i)}\)</span> by over four standard deviations of <span class="math inline">\(\hat{y}_i.\)</span>
</li>
</ul></section><section id="covratio_i" class="slide level2"><h2><span class="math inline">\(COVRATIO_{i}\)</span></h2>
<ul>
<li><p><span class="math inline">\(DFFITS_{i}\)</span> and <span class="math inline">\(DFBETAS_{j, i}\)</span> reflect influence on <span class="math inline">\(\hat{y}_i\)</span> and <span class="math inline">\(b_j\)</span>, but do not indicate whether or not the presence of the <span class="math inline">\(i\)</span>th point appreciably sharpened the estimation of the coefficient. <!-- - They provide no focus on whether or not the presence of the $i$th point appreciably sharpened the estimation of the coefficient. --></p></li>
<li><p>A scalar measure of precision, called <strong>generalized variance</strong> of <span class="math inline">\({\bf b}\)</span> is <span class="math display">\[GV({\bf b}) = \det\left( \mathrm{Cov}({\bf b}) \right) = \det\left( \sigma^2 ({\bf X'X})^{-1} \right) \]</span></p></li>
<li>
<p>To express the role of the <span class="math inline">\(i\)</span>th observation on the <strong>precision of estimation</strong>, we use <span class="math display">\[COVRATIO_{i} = \frac{ \det \left( \left( {\bf X}_{(i)}' {\bf X}_{(i)} \right)^{-1} s_{(i)}^2 \right) }{\det \left(  \left( {\bf X'X} \right)^{-1} s^2\right)} = \frac{ \left( s_{(i)}^2 \right)^p}{\left( s^2 \right) ^ p}\left( \frac{1}{1-h_{ii}}\right)\]</span></p>
<ul>
<li>
<span class="math inline">\({\bf X}_{(i)}\)</span> denotes the <span class="math inline">\((n-1) \times p\)</span> data matrix with the <span class="math inline">\(i\)</span>th observation eliminated.</li>
</ul>
</li>
</ul></section><section id="covratio_i-1" class="slide level2"><h2><span class="math inline">\(COVRATIO_{i}\)</span></h2>
<p><span class="math display">\[\small COVRATIO_{i} = \frac{ \det \left( \left( {\bf X}_{(i)}' {\bf X}_{(i)} \right)^{-1} s_{(i)}^2 \right) }{\det \left(  \left( {\bf X'X} \right)^{-1} s^2 \right)} = \frac{ \left( s_{(i)}^2 \right)^p}{\left( s^2 \right) ^ p}\left( \frac{1}{1-h_{ii}}\right)\]</span></p>
<ul>
<li><p>If <span class="math inline">\(COVRATIO_{i} &gt; 1\)</span>, the <span class="math inline">\(i\)</span>th case <em>improves</em> the precision.</p></li>
<li><p>If <span class="math inline">\(COVRATIO_{i} &lt; 1\)</span>, the <span class="math inline">\(i\)</span>th case <em>degrades</em> the precision.</p></li>
<li><p>Higher leverage <span class="math inline">\(h_{ii}\)</span> leads to larger <span class="math inline">\(COVRATIO_{i}\)</span> and improves the precision unless the point is an outlier in <span class="math inline">\(y\)</span> space.</p></li>
<li><p>If <span class="math inline">\(i\)</span>th point is an outlier, <span class="math inline">\(\frac{s_{(i)}^2}{s^2} &lt; 1\)</span>.</p></li>
</ul>
<div class="alert">
<p>Cutoffs:</p>
<ul>
<li>
<span class="math inline">\(COVRATIO_{i} &gt; 1 + 3p/n\)</span> or</li>
<li>
<span class="math inline">\(COVRATIO_{i} &lt; 1 - 3p/n\)</span> provided that <span class="math inline">\(n &gt; 3p\)</span>.</li>
</ul>
</div>
<aside class="notes"><ul>
<li>
<span class="math inline">\(\frac{1}{1-h_{ii}}\)</span> is the ratio of <span class="math inline">\(\small \det \left( \left( {\bf X}_{(i)}' {\bf X}_{(i)} \right)^{-1} \right)\)</span> to <span class="math inline">\(\small \det \left( \left( {\bf X}' {\bf X} \right)^{-1} \right)\)</span>
</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="r-lab-covratio_i" class="slide level2"><h2>
<span class="pink">R Lab</span> <span class="math inline">\(COVRATIO_{i}\)</span>
</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>(covra <span class="ot">&lt;-</span> <span class="fu">covratio</span>(delivery_lm))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16 
0.87 1.21 1.28 0.88 1.24 1.20 1.24 1.21 0.34 1.31 1.17 1.29 1.21 1.23 1.19 1.37 
  17   18   19   20   21   22   23   24   25 
1.22 1.07 1.22 0.76 1.24 1.40 0.89 0.95 1.23 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="do">## cutoff 1.36</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>covra[covra <span class="sc">&gt;</span> (<span class="dv">1</span> <span class="sc">+</span> <span class="dv">3</span><span class="sc">*</span>p<span class="sc">/</span>n)]  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 16  22 
1.4 1.4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="do">## cutoff 0.64</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>covra[covra <span class="sc">&lt;</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="dv">3</span><span class="sc">*</span>p<span class="sc">/</span>n)] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   9 
0.34 </code></pre>
</div>
</div>
<ul>
<li><p>Since <span class="math inline">\(COVRATIO_{9} &lt; 1\)</span>, this observation degrades precision of estimation.</p></li>
<li><p>Since <span class="math inline">\(COVRATIO_{22} &gt; 1\)</span>, this observation tends to improve precision of estimation.</p></li>
<li><p>Point 22 and 16 barely exceed the cutoff, so their influence is small. <!-- - Point 9 is much more clearly influential. --></p></li>
</ul></section><section id="jointly-influential-points" class="slide level2"><h2>Jointly Influential Points</h2>
<ul>
<li>Subset of cases can be <em>jointly influential</em> or can offset each other’s influence.</li>
</ul>

<img data-src="./images/07-diag-unusual/unnamed-chunk-20-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"><aside class="notes"><ul>
<li>Sometimes subset of cases can be jointly influential or can offset each other’s influence. One single point may not be that influential, but with another point, the fitting result changes a lot. Or one single point may be influential, but with another point, the influence power disappears.</li>
<li>Often, influential subsets of cases or multiple outliers can be identified by applying single -case deletion diagnostics sequentially.</li>
<li><ol type="a">
<li>two jointly influential cases located close to one another. Deletion of both cases has a much greater impact than deletion of only one.</li>
</ol></li>
<li><ol start="2" type="a">
<li>two jointly influential cases located on opposite sides of the data. Deletion of both cases has a much greater impact than deletion of only one.</li>
</ol></li>
<li><ol start="3" type="a">
<li>cases that offset one another: the regression with both cases deleted is nearlythe same as for the whole data set.</li>
</ol></li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="detecting-joint-influence-added-variable-plot" class="slide level2"><h2>Detecting Joint Influence: Added-Variable Plot</h2>
<ul>
<li>
<span class="math inline">\(y_i= \beta_0 + \beta_1x_{i1} + \beta_2x_{i2} + \dots + \beta_kx_{ik} + \epsilon_i\)</span>.</li>
</ul>
<p>To create the <strong>added-variable plot</strong> for <span class="math inline">\(x_1\)</span>,</p>
<ul>
<li>
<em>Step 1</em>: <span style="color:blue"> Regress <span class="math inline">\(y\)</span> on all predictors except <span class="math inline">\(x_1\)</span> and obtain residuals </span> <span class="math display">\[\small \begin{align}\hat{y}_i(x_{(1)}) &amp;= b_0^{(1)} + b_2^{(1)}x_{i2} + \dots + b_k^{(1)}x_{ik}\\e_i(y \mid x_{(1)}) &amp;= y_i - \hat{y}_i(x_{(1)}) \end{align}\]</span>
</li>
</ul>
<div class="fragment">
<ul>
<li>
<em>Step 2</em>: <span style="color:blue"> Regress <span class="math inline">\(x_1\)</span> on all other predictors and obtain residuals</span> <span class="math display">\[\small \begin{align}\hat{x}_{i1}(x_{(1)}) &amp;= a_0^{(1)} + a_2^{(1)}x_{i2} + \dots + a_k^{(1)}x_{ik}\\e_i(x_1 \mid x_{(1)}) &amp;= x_{i1} - \hat{x}_{i1}(x_{(1)}) \end{align}\]</span>
</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>
<em>Step 3</em>: <span style="color:blue"> Plot <span class="math inline">\(e_i(y \mid x_{(1)})\)</span> vs.&nbsp;<span class="math inline">\(e_i(x_1 \mid x_{(1)}), \quad i = 1, \dots, n\)</span></span>
</li>
</ul>
<aside class="notes"><ul>
<li>Added-Variable Plot is a quite useful plot. We can use it for many other purposes, not just detecting joint influence. We’ll talk about that later.</li>
<li>For each predictor, we can create its own Added-Variable Plot, so if we have k predictors, we can have k Added-Variable Plots.</li>
<li>The idea of the plot is that we would like to see the pure effect of a predictor on the response when all other predictors are in the model.</li>
<li>So how do we get the pure effect of <span class="math inline">\(x_1\)</span>?</li>
<li>Step 1: Regress y on all predictors except x1 and obtain residuals. The residuals are the variation of y that cannot be explained by x2 to xk. So if later we see the variation further goes down, that must be due to the inclusion of x1.</li>
<li>Step 2: Regress x1 on all other predictors. The residuals are the variation of x1 that cannot be explained by x2 to xk. This gives us the</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div class="fragment">
<ul>
<li>For any <span class="math inline">\(x_j\)</span>, <span class="math inline">\(e_i(y \mid x_{(j)})\)</span> vs.&nbsp;<span class="math inline">\(e_i(x_j \mid x_{(j)})\)</span>
</li>
</ul>
<aside class="notes"><ul>
<li>The collection of of added-variable plots for x1, …, xk convert the graph for multiple regression into a sequence of 2-dimensional plot.</li>
<li>plotting <span class="math inline">\(e_i(y \mid x_{(j)})\)</span> vs.&nbsp;<span class="math inline">\(e_i(x_j \mid x_{(j)}), \quad i = 1, \dots, n\)</span> allows us to examine the leverage and influence of the cases on <span class="math inline">\(b_j\)</span>.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section><section id="r-lab-duncans-occupational-prestige-data" class="slide level2"><h2>
<span class="pink">R Lab</span> Duncan’s Occupational Prestige Data</h2>
<div class="columns">
<div class="column" style="width:65%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">library</span>(carData)</span>
<span id="cb34-2"><a href="#cb34-2"></a>carData<span class="sc">::</span>Duncan[<span class="fu">sample</span>(<span class="fu">dim</span>(Duncan)[<span class="dv">1</span>], <span class="dv">16</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource my_class800 number-lines code-with-copy"><code class="sourceCode"><span id="cb35-1"><a href="#cb35-1"></a>                   type income education prestige</span>
<span id="cb35-2"><a href="#cb35-2"></a>plumber              bc     44        25       29</span>
<span id="cb35-3"><a href="#cb35-3"></a>chemist            prof     64        86       90</span>
<span id="cb35-4"><a href="#cb35-4"></a>gas.stn.attendant    bc     15        29       10</span>
<span id="cb35-5"><a href="#cb35-5"></a>store.manager      prof     42        44       45</span>
<span id="cb35-6"><a href="#cb35-6"></a>teacher            prof     48        91       73</span>
<span id="cb35-7"><a href="#cb35-7"></a>insurance.agent      wc     55        71       41</span>
<span id="cb35-8"><a href="#cb35-8"></a>bookkeeper           wc     29        72       39</span>
<span id="cb35-9"><a href="#cb35-9"></a>author             prof     55        90       76</span>
<span id="cb35-10"><a href="#cb35-10"></a>electrician          bc     47        39       53</span>
<span id="cb35-11"><a href="#cb35-11"></a>lawyer             prof     76        98       89</span>
<span id="cb35-12"><a href="#cb35-12"></a>policeman            bc     34        47       41</span>
<span id="cb35-13"><a href="#cb35-13"></a>mail.carrier         wc     48        55       34</span>
<span id="cb35-14"><a href="#cb35-14"></a>soda.clerk           bc     12        30        6</span>
<span id="cb35-15"><a href="#cb35-15"></a>machinist            bc     36        32       57</span>
<span id="cb35-16"><a href="#cb35-16"></a>banker             prof     78        82       92</span>
<span id="cb35-17"><a href="#cb35-17"></a>streetcar.motorman   bc     42        26       19</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:35%;">
<ul>
<li>
<p><code>type</code>: Type of occupation</p>
<ul>
<li>
<code>prof</code> (professional and managerial)</li>
<li>
<code>wc</code> (white-collar)</li>
<li>
<code>bc</code> (blue-collar)</li>
</ul>
</li>
<li><p><code>income</code>: Percentage who earned $3,500 or more per year</p></li>
<li><p><code>education</code>: Percentage who were high school graduates</p></li>
<li><p><code>prestige</code>: Percentage of respondents in a survey who rated the occupation as “good” or better in prestige</p></li>
</ul>
</div>
</div>
<aside class="notes"><ul>
<li>1950 data</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="r-lab-added-valued-plot" class="slide level2"><h2>
<span class="pink">R Lab</span> Added-Valued Plot</h2>
<ul>
<li>The slope of the least square simple regression line of <span class="math inline">\(e_i(y \mid x_{(1)})\)</span> on <span class="math inline">\(e_i(x_1 \mid x_{(1)})\)</span> is the same as the slope <span class="math inline">\(b_1\)</span> for <span class="math inline">\(x_1\)</span> in the full multiple regression.</li>
</ul>
<div class="midi">
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb36" data-code-line-numbers="false"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">duncan_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">prestige</span> <span class="op">~</span> <span class="va">income</span> <span class="op">+</span> <span class="va">education</span>, data <span class="op">=</span> <span class="va">Duncan</span><span class="op">)</span></span>
<span><span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/avPlots.html">avPlot</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">duncan_fit</span>, variable <span class="op">=</span> <span class="st">"income"</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"mahal"</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>, </span>
<span>            xlab <span class="op">=</span> <span class="st">"e(Income | Education)"</span>, ylab <span class="op">=</span> <span class="st">"e(Prestige | Education)"</span>, pch <span class="op">=</span> <span class="fl">16</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="columns">
<div class="column" style="width:62%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="./images/07-diag-unusual/unnamed-chunk-23-1.png" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:38%;">
<ul>
<li>Minister’s income is low given its education level.</li>
<li>Railroad engineer and railroad conductor’s income is high given their education level. <!-- - The point for railroad engineer is more or less in line with most of the points in the plot. -->
</li>
<li>The points for minister and conductor appear to be working jointly to decrease the income slope.</li>
</ul>
</div>
</div>
<aside class="notes"><p>identifies the 3 points with the largest Mahalanobis distances from the center of the data.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="r-lab-bubble-plot" class="slide level2"><h2>
<span class="pink">R Lab</span> Bubble Plot</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li>Each point is plotted as a circle with area proportional to Cook’s distance.</li>
<li>Horizontal lines are drawn R-Student residuals of 0 and <span class="math inline">\(\pm 2\)</span>.</li>
<li>The vertical lines at <span class="math inline">\(2\bar{h}\)</span> and <span class="math inline">\(3\bar{h}\)</span>.</li>
</ul>
</div><div class="column" style="width:55%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>car<span class="sc">::</span><span class="fu">influencePlot</span>(duncan_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="./images/07-diag-unusual/unnamed-chunk-24-1.png" style="width:100.0%"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>            StudRes   Hat CookD
minister       3.13 0.173 0.566
reporter      -2.40 0.054 0.099
conductor     -1.70 0.195 0.224
RR.engineer    0.81 0.269 0.081</code></pre>
</div>
</div>
</div>
</div>
</section><section id="treatment-of-unusual-data" class="slide level2"><h2>Treatment of Unusual Data</h2>
<div class="question">
<p>Should unusual data be discarded?</p>
</div>
<div class="fragment">
<ul>
<li><p>First investigate <em>why</em> data are unusual.</p></li>
<li>
<p>Error in recording:</p>
<ul>
<li>If the typo can be corrected, correct it and keep it.</li>
<li>If it cannot be corrected, discard it.</li>
</ul>
</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><p>If the unusual point is known to be correct, understand why.</p></li>
<li>
<p>Outliers or influential data may also motivate model respecification.</p>
<ul>
<li>The pattern of outlying data may suggest introducing additional regressors.</li>
</ul>
</li>
</ul>
<aside class="notes"><p>It is tempting to remove outliers. Don’t do this without a very good reason. Models that ignore exceptional (and interesting) cases often perform poorly. For instance, if a financial firm ignored the largest market swings – the “outliers” – they would soon go bankrupt by making poorly thought-out investments. A compromise approach (Advanced): - Use <strong>robust</strong> estimation that <strong>downweights</strong> observations in proportion to residual magnitude or influence. - A highly influential observation will receive less weight than it would in a least-squares fit.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/e/e8/Marquette_Golden_Eagles_logo.svg" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://math4780-f23.github.io/website/">math4780-f23.github.io/website</a></p>
</div>
</div>
</section></section>
</div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="../site_libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="../site_libs/revealjs/plugin/multiplex/socket.io.js"></script><script src="../site_libs/revealjs/plugin/multiplex/multiplex.js"></script><script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script><script src="../site_libs/revealjs/plugin/notes/notes.js"></script><script src="../site_libs/revealjs/plugin/search/search.js"></script><script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script><script src="../site_libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'multiplex': {"secret":null,"id":"196552e0649bf1fd","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1800,

        height: 1000,

        // Factor of the display size that should remain empty around the content
        margin: 5.0e-2,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          
          RevealSearch,
          RevealZoom
        ]
      });
    </script><script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script><script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>


</body></html>